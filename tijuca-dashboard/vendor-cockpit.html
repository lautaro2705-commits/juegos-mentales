<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tijuca Travel — Cockpit Vendedor</title>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet" />
  <style>
    /* ========== RESET & BASE ========== */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #f3f4f6;
      color: #111827;
      -webkit-font-smoothing: antialiased;
    }

    /* ========== PAGE LAYOUT ========== */
    .page { max-width: 980px; margin: 0 auto; padding: 28px 20px 60px; }
    .page-header { display: flex; align-items: flex-start; justify-content: space-between; margin-bottom: 28px; }
    .page-title { font-size: 28px; font-weight: 800; color: #111827; line-height: 1.2; }
    .page-subtitle { font-size: 14px; color: #9ca3af; margin-top: 4px; text-transform: capitalize; }
    .refresh-btn {
      width: 42px; height: 42px; border: 1px solid #e5e7eb; background: #fff;
      border-radius: 10px; cursor: pointer; display: flex; align-items: center;
      justify-content: center; color: #6b7280; transition: all 0.2s; flex-shrink: 0;
    }
    .refresh-btn:hover { background: #f9fafb; color: #4f46e5; border-color: #c7d2fe; }
    .refresh-btn:active svg { transform: rotate(180deg); transition: transform 0.4s; }

    /* ========== EXCHANGE RATE HEADER ========== */
    .rate-container {
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
      border-radius: 16px; padding: 24px 28px; color: #fff; margin-bottom: 24px;
      position: relative; overflow: hidden;
    }
    .rate-container::before {
      content: ''; position: absolute; top: -30px; right: -30px;
      width: 120px; height: 120px; border-radius: 50%;
      background: rgba(255,255,255,0.04);
    }
    .rate-container::after {
      content: ''; position: absolute; bottom: -40px; right: 60px;
      width: 160px; height: 160px; border-radius: 50%;
      background: rgba(255,255,255,0.02);
    }
    .rate-label {
      font-size: 12px; font-weight: 600; text-transform: uppercase;
      letter-spacing: 1px; color: rgba(255,255,255,0.6); margin-bottom: 10px;
    }
    .rate-row { display: flex; align-items: baseline; gap: 16px; flex-wrap: wrap; position: relative; z-index: 1; }
    .rate-amount { font-size: 36px; font-weight: 800; letter-spacing: -1px; }
    .rate-currency { font-size: 16px; font-weight: 500; opacity: 0.7; margin-left: 4px; }
    .rate-trend {
      display: inline-flex; align-items: center; gap: 6px;
      padding: 5px 12px; border-radius: 20px; font-size: 13px; font-weight: 600;
    }
    .rate-trend.up { background: rgba(239,68,68,0.2); color: #fca5a5; }
    .rate-trend.down { background: rgba(34,197,94,0.2); color: #86efac; }
    .rate-trend.stable { background: rgba(255,255,255,0.12); color: rgba(255,255,255,0.7); }
    .rate-trend-icon { font-size: 11px; }
    .rate-trend-label { font-weight: 400; opacity: 0.75; font-size: 12px; }
    .rate-updated { margin-top: 10px; font-size: 11px; color: rgba(255,255,255,0.35); position: relative; z-index: 1; }

    /* ========== QUICK ACTIONS ========== */
    .qa-container { margin-bottom: 24px; }
    .qa-title {
      font-size: 11px; font-weight: 700; color: #9ca3af;
      text-transform: uppercase; letter-spacing: 1.2px; margin-bottom: 12px;
    }
    .qa-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }
    .qa-btn {
      display: flex; align-items: center; justify-content: center; gap: 10px;
      padding: 18px 16px; border: 2px solid transparent; border-radius: 14px;
      font-size: 14px; font-weight: 700; cursor: pointer; transition: all 0.2s;
      font-family: inherit;
    }
    .qa-btn:active { transform: scale(0.97); }
    .qa-btn.primary { background: #4f46e5; color: #fff; }
    .qa-btn.primary:hover { background: #4338ca; box-shadow: 0 6px 20px rgba(79,70,229,0.35); }
    .qa-btn.secondary { background: #fff; color: #10b981; border-color: #10b981; }
    .qa-btn.secondary:hover { background: #ecfdf5; box-shadow: 0 6px 20px rgba(16,185,129,0.2); }
    .qa-btn.tertiary { background: #fff; color: #6366f1; border-color: #e5e7eb; }
    .qa-btn.tertiary:hover { border-color: #6366f1; background: #eef2ff; }

    /* ========== KPI CARDS ========== */
    .kpi-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 24px; }
    .kpi-card {
      background: #fff; border-radius: 14px; padding: 22px;
      border: 1px solid #e5e7eb; transition: all 0.2s;
    }
    .kpi-card:hover { box-shadow: 0 8px 24px rgba(0,0,0,0.06); transform: translateY(-2px); }
    .kpi-icon {
      width: 40px; height: 40px; border-radius: 12px;
      display: flex; align-items: center; justify-content: center; margin-bottom: 14px;
    }
    .kpi-icon.green { background: rgba(16,185,129,0.1); color: #10b981; }
    .kpi-icon.blue { background: rgba(59,130,246,0.1); color: #3b82f6; }
    .kpi-icon.purple { background: rgba(139,92,246,0.1); color: #8b5cf6; }
    .kpi-label {
      font-size: 12px; font-weight: 600; color: #6b7280;
      text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 6px;
    }
    .kpi-value { font-size: 30px; font-weight: 800; color: #111827; line-height: 1.2; }
    .kpi-muted { font-size: 14px; color: #9ca3af; font-style: italic; margin-top: 6px; }
    .progress-bar {
      height: 8px; background: #f3f4f6; border-radius: 4px;
      margin-top: 14px; overflow: hidden;
    }
    .progress-fill {
      height: 100%; border-radius: 4px;
      background: linear-gradient(90deg, #8b5cf6, #a78bfa);
      transition: width 1s cubic-bezier(0.22, 1, 0.36, 1);
    }
    .progress-label { font-size: 12px; color: #9ca3af; margin-top: 6px; }

    /* ========== NOTIFICATION CENTER ========== */
    .notif-container {
      background: #fff; border-radius: 14px;
      border: 1px solid #e5e7eb; padding: 24px; margin-bottom: 24px;
    }
    .notif-header {
      display: flex; align-items: center; justify-content: space-between;
      margin-bottom: 16px; flex-wrap: wrap; gap: 8px;
    }
    .notif-title {
      font-size: 18px; font-weight: 800; color: #111827;
      display: flex; align-items: center; gap: 10px;
    }
    .notif-badge {
      background: #6366f1; color: #fff; font-size: 12px;
      font-weight: 700; padding: 2px 10px; border-radius: 12px;
    }
    .notif-counters { display: flex; gap: 8px; }
    .notif-counter {
      font-size: 12px; font-weight: 600; padding: 4px 12px; border-radius: 12px;
    }
    .notif-counter.urgent-count { background: #fef2f2; color: #dc2626; }
    .notif-counter.attention-count { background: #fffbeb; color: #d97706; }

    /* Filters */
    .notif-filters {
      display: flex; gap: 4px; margin-bottom: 18px;
      border-bottom: 1px solid #f3f4f6; padding-bottom: 14px;
    }
    .filter-btn {
      padding: 7px 16px; border: none; background: transparent;
      color: #6b7280; font-size: 13px; font-weight: 600;
      border-radius: 8px; cursor: pointer; transition: all 0.15s; font-family: inherit;
    }
    .filter-btn:hover { background: #f3f4f6; color: #111827; }
    .filter-btn.active { background: #eef2ff; color: #4f46e5; }

    /* Notification items */
    .notif-list { display: flex; flex-direction: column; gap: 8px; max-height: 520px; overflow-y: auto; }
    .notif-list::-webkit-scrollbar { width: 6px; }
    .notif-list::-webkit-scrollbar-track { background: transparent; }
    .notif-list::-webkit-scrollbar-thumb { background: #e5e7eb; border-radius: 3px; }

    .notif-item {
      display: flex; align-items: flex-start; gap: 14px;
      padding: 16px 18px; border-radius: 12px;
      border-left: 4px solid transparent; transition: all 0.25s;
      animation: slideIn 0.35s ease;
    }
    .notif-item:hover { filter: brightness(0.97); }
    .notif-item.dismissing { opacity: 0; transform: translateX(30px); height: 0; padding: 0; margin: 0; overflow: hidden; }
    .notif-item.urgent { background: #fef2f2; border-left-color: #ef4444; }
    .notif-item.attention { background: #fffbeb; border-left-color: #f59e0b; }
    .notif-item.followup { background: #f0fdf4; border-left-color: #22c55e; }

    .priority-dot { display: block; width: 11px; height: 11px; border-radius: 50%; margin-top: 5px; flex-shrink: 0; }
    .urgent .priority-dot { background: #ef4444; box-shadow: 0 0 0 3px rgba(239,68,68,0.2); animation: pulseDot 2s infinite; }
    .attention .priority-dot { background: #f59e0b; box-shadow: 0 0 0 3px rgba(245,158,11,0.15); }
    .followup .priority-dot { background: #22c55e; }

    .notif-content { flex: 1; min-width: 0; }
    .notif-message { font-size: 14px; font-weight: 700; color: #111827; line-height: 1.45; margin-bottom: 2px; }
    .notif-detail { font-size: 13px; color: #6b7280; line-height: 1.4; }
    .file-tag {
      display: inline-block; font-size: 11px; font-weight: 700;
      color: #6366f1; background: rgba(99,102,241,0.1);
      padding: 2px 8px; border-radius: 4px; margin-top: 6px;
    }

    .notif-actions { display: flex; align-items: center; gap: 8px; flex-shrink: 0; padding-top: 2px; }
    .action-link {
      font-size: 13px; font-weight: 600; color: #4f46e5;
      text-decoration: none; padding: 5px 12px; border-radius: 8px;
      transition: background 0.15s; white-space: nowrap;
    }
    .action-link:hover { background: rgba(79,70,229,0.08); }
    .dismiss-btn {
      width: 34px; height: 34px; border: none;
      background: rgba(0,0,0,0.04); border-radius: 8px;
      cursor: pointer; font-size: 16px; color: #9ca3af;
      display: flex; align-items: center; justify-content: center;
      transition: all 0.2s; font-family: inherit;
    }
    .dismiss-btn:hover { background: #10b981; color: #fff; transform: scale(1.1); }

    /* Empty state */
    .notif-empty { text-align: center; padding: 48px 20px; color: #9ca3af; }
    .notif-empty-icon {
      display: inline-flex; align-items: center; justify-content: center;
      width: 56px; height: 56px; border-radius: 50%;
      background: #f0fdf4; color: #22c55e; font-size: 28px; margin-bottom: 14px;
    }
    .notif-empty p { font-size: 14px; margin: 0; }

    /* ========== SKELETON LOADING ========== */
    .skeleton { background: #e5e7eb; border-radius: 10px; animation: pulse 1.5s infinite; }
    .skel-rate { height: 90px; background: rgba(255,255,255,0.08); border-radius: 10px; animation: pulse 1.5s infinite; }
    .skel-kpi { height: 110px; }
    .skel-notif { height: 72px; }

    /* ========== ANIMATIONS ========== */
    @keyframes slideIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes pulseDot { 0%,100% { box-shadow: 0 0 0 3px rgba(239,68,68,0.2); } 50% { box-shadow: 0 0 0 7px rgba(239,68,68,0.08); } }
    @keyframes pulse { 0%,100% { opacity: 1; } 50% { opacity: 0.4; } }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    .page { animation: fadeIn 0.4s ease; }

    /* ========== RESPONSIVE ========== */
    @media (max-width: 768px) {
      .kpi-grid { grid-template-columns: 1fr; }
      .qa-grid { grid-template-columns: 1fr; }
      .page { padding: 16px 12px 40px; }
      .page-title { font-size: 22px; }
      .rate-amount { font-size: 28px; }
      .notif-item { flex-wrap: wrap; }
      .notif-actions { width: 100%; justify-content: flex-end; margin-top: 8px; }
    }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState, useEffect, useCallback, useMemo } = React;

    // ================================================================
    // MOCK DATA — Simulated vendor data for Tijuca Travel
    // ================================================================
    const MOCK_EXCHANGE_RATE = {
      current: 1567.50,
      previous: 1545.20,
      percentChange: 1.44,
      direction: 'up',
      updatedAt: new Date().toISOString(),
      markup: 15,
    };

    const MOCK_KPIS = {
      monthlySalesUsd: 24850,
      activeFiles: 12,
      goal: { target: 40000, current: 24850, percentage: 62 },
    };

    const MOCK_NOTIFICATIONS = [
      {
        id: 'payment-1024-2025-02-03',
        priority: 'urgent',
        type: 'payment_due',
        fileId: 1024,
        clientName: 'Familia Perez',
        message: 'File #1024 (Familia Perez) — la sena vence HOY',
        detail: 'Sena inicial — USD 1.200',
        dueDate: new Date().toISOString(),
        daysRemaining: 0,
        dismissed: false,
        actionUrl: '#',
        actionLabel: 'Ver cobros',
      },
      {
        id: 'payment-1031-overdue',
        priority: 'urgent',
        type: 'payment_due',
        fileId: 1031,
        clientName: 'Martinez, Roberto',
        message: 'File #1031 (Martinez, Roberto) — sena vencida hace 2 dias',
        detail: '2da cuota — USD 800',
        dueDate: new Date(Date.now() - 2*86400000).toISOString(),
        daysRemaining: -2,
        dismissed: false,
        actionUrl: '#',
        actionLabel: 'Ver cobros',
      },
      {
        id: 'operator-1055-2025-02-04',
        priority: 'urgent',
        type: 'operator_payment_due',
        fileId: 1055,
        clientName: 'Lopez, Ana',
        message: 'Vencimiento de pago a Operador (TravelCorp) por File #1055 manana',
        detail: 'USD 3.400 — Hotel + Traslados',
        dueDate: new Date(Date.now() + 86400000).toISOString(),
        daysRemaining: 1,
        dismissed: false,
        actionUrl: '#',
        actionLabel: 'Ver pago',
      },
      {
        id: 'passport-4521',
        priority: 'attention',
        type: 'passport_expiry',
        fileId: 1090,
        clientName: 'Juan Carlos Dominguez',
        message: 'Pasaporte de Juan Carlos Dominguez (File #1090) vence en 152 dias',
        detail: 'Vencimiento: 05/07/2025',
        dueDate: '2025-07-05',
        daysRemaining: 152,
        dismissed: false,
        actionUrl: '#',
        actionLabel: 'Ver pasajero',
      },
      {
        id: 'departure-1088',
        priority: 'attention',
        type: 'trip_departure',
        fileId: 1088,
        clientName: 'Los Garcia',
        message: 'Los Garcia salen de viaje en 3 dias — Voucher NO enviado',
        detail: 'Salida: 06/02/2025 — Cancun, Mexico',
        dueDate: new Date(Date.now() + 3*86400000).toISOString(),
        daysRemaining: 3,
        dismissed: false,
        actionUrl: '#',
        actionLabel: 'Enviar voucher',
      },
      {
        id: 'departure-1092',
        priority: 'attention',
        type: 'trip_departure',
        fileId: 1092,
        clientName: 'Fernandez, Maria',
        message: 'Fernandez, Maria sale de viaje en 5 dias',
        detail: 'Salida: 08/02/2025 — Rio de Janeiro, Brasil',
        dueDate: new Date(Date.now() + 5*86400000).toISOString(),
        daysRemaining: 5,
        dismissed: false,
        actionUrl: '#',
        actionLabel: 'Ver file',
      },
      {
        id: 'followup-q201',
        priority: 'followup',
        type: 'quote_followup',
        fileId: null,
        clientName: 'Silvana Torres',
        message: 'Llamar a Silvana Torres — pidio cotizacion hace 52hs',
        detail: 'Destino: Bariloche — Familia 4 pax',
        dueDate: new Date(Date.now() - 52*3600000).toISOString(),
        daysRemaining: 0,
        dismissed: false,
        actionUrl: '#',
        actionLabel: 'Ver cotizacion',
      },
      {
        id: 'followup-q208',
        priority: 'followup',
        type: 'quote_followup',
        fileId: null,
        clientName: 'Diego Ramirez',
        message: 'Llamar a Diego Ramirez — pidio cotizacion hace 72hs',
        detail: 'Destino: Europa 15 dias — Pareja',
        dueDate: new Date(Date.now() - 72*3600000).toISOString(),
        daysRemaining: 0,
        dismissed: false,
        actionUrl: '#',
        actionLabel: 'Ver cotizacion',
      },
    ];

    // ================================================================
    // EXCHANGE RATE HEADER
    // ================================================================
    function ExchangeRateHeader({ rate, loading }) {
      if (loading) {
        return (
          <div className="rate-container">
            <div className="skel-rate skeleton" />
          </div>
        );
      }

      const trendClass = rate.direction;
      const trendIcon = rate.direction === 'up' ? '\u25B2' : rate.direction === 'down' ? '\u25BC' : '\u2014';
      const sign = rate.percentChange > 0 ? '+' : '';

      return (
        <div className="rate-container">
          <div className="rate-label">Cotizacion del Dia (MEP + {rate.markup}%)</div>
          <div className="rate-row">
            <span className="rate-amount">
              ${rate.current.toLocaleString('es-AR', { minimumFractionDigits: 2 })}
              <span className="rate-currency">ARS</span>
            </span>
            <span className={`rate-trend ${trendClass}`}>
              <span className="rate-trend-icon">{trendIcon}</span>
              <span>{sign}{rate.percentChange.toFixed(2)}%</span>
              <span className="rate-trend-label">vs. ayer</span>
            </span>
          </div>
          <div className="rate-updated">
            Actualizado: {new Date(rate.updatedAt).toLocaleTimeString('es-AR', { hour: '2-digit', minute: '2-digit' })}
          </div>
        </div>
      );
    }

    // ================================================================
    // QUICK ACTIONS
    // ================================================================
    function QuickActions() {
      return (
        <div className="qa-container">
          <div className="qa-title">Acceso Rapido</div>
          <div className="qa-grid">
            <button className="qa-btn primary" onClick={() => alert('Nuevo File')}>
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M12 5v14M5 12h14" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round"/></svg>
              Nuevo File
            </button>
            <button className="qa-btn secondary" onClick={() => alert('Cargar Cobro')}>
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M12 1v22M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/></svg>
              Cargar Cobro Rapido
            </button>
            <button className="qa-btn tertiary" onClick={() => alert('Buscar Pasajero')}>
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none"><circle cx="11" cy="11" r="7" stroke="currentColor" strokeWidth="2"/><path d="M21 21l-4.35-4.35" stroke="currentColor" strokeWidth="2" strokeLinecap="round"/></svg>
              Buscar Pasajero
            </button>
          </div>
        </div>
      );
    }

    // ================================================================
    // KPI CARDS
    // ================================================================
    function KpiCards({ kpis, loading }) {
      if (loading) {
        return (
          <div className="kpi-grid">
            {[1,2,3].map(i => <div key={i} className="kpi-card"><div className="skeleton skel-kpi" /></div>)}
          </div>
        );
      }

      return (
        <div className="kpi-grid">
          {/* Sales */}
          <div className="kpi-card">
            <div className="kpi-icon green">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none"><path d="M12 1v22M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/></svg>
            </div>
            <div className="kpi-label">Ventas del Mes</div>
            <div className="kpi-value">USD {kpis.monthlySalesUsd.toLocaleString('en-US')}</div>
          </div>

          {/* Active Files */}
          <div className="kpi-card">
            <div className="kpi-icon blue">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none"><path d="M3 7V5a2 2 0 012-2h4l2 2h4a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2V7z" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/></svg>
            </div>
            <div className="kpi-label">Files Activos</div>
            <div className="kpi-value">{kpis.activeFiles}</div>
          </div>

          {/* Goal */}
          <div className="kpi-card">
            <div className="kpi-icon purple">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/></svg>
            </div>
            <div className="kpi-label">Objetivo Mensual</div>
            {kpis.goal ? (
              <>
                <div className="kpi-value">{kpis.goal.percentage}%</div>
                <div className="progress-bar">
                  <div className="progress-fill" style={{ width: `${kpis.goal.percentage}%` }} />
                </div>
                <div className="progress-label">
                  USD {kpis.goal.current.toLocaleString('en-US')} / {kpis.goal.target.toLocaleString('en-US')}
                </div>
              </>
            ) : (
              <div className="kpi-muted">Sin objetivo definido</div>
            )}
          </div>
        </div>
      );
    }

    // ================================================================
    // NOTIFICATION CENTER
    // ================================================================
    const FILTER_OPTIONS = [
      { value: 'all', label: 'Todas' },
      { value: 'urgent', label: 'Urgentes' },
      { value: 'attention', label: 'Atencion' },
      { value: 'followup', label: 'Seguimiento' },
    ];

    function NotificationCenter({ notifications, onDismiss, loading }) {
      const [filter, setFilter] = useState('all');

      const filtered = filter === 'all'
        ? notifications
        : notifications.filter(n => n.priority === filter);

      const counts = useMemo(() => ({
        urgent: notifications.filter(n => n.priority === 'urgent').length,
        attention: notifications.filter(n => n.priority === 'attention').length,
        followup: notifications.filter(n => n.priority === 'followup').length,
      }), [notifications]);

      if (loading) {
        return (
          <div className="notif-container">
            <div className="notif-header"><h2 className="notif-title">Centro de Notificaciones</h2></div>
            <div className="notif-list">
              {[1,2,3].map(i => <div key={i} className="skeleton skel-notif" />)}
            </div>
          </div>
        );
      }

      return (
        <div className="notif-container">
          <div className="notif-header">
            <h2 className="notif-title">
              Centro de Notificaciones
              {notifications.length > 0 && <span className="notif-badge">{notifications.length}</span>}
            </h2>
            <div className="notif-counters">
              {counts.urgent > 0 && <span className="notif-counter urgent-count">{counts.urgent} urgente{counts.urgent !== 1 ? 's' : ''}</span>}
              {counts.attention > 0 && <span className="notif-counter attention-count">{counts.attention} atencion</span>}
            </div>
          </div>

          <div className="notif-filters">
            {FILTER_OPTIONS.map(opt => (
              <button
                key={opt.value}
                className={`filter-btn ${filter === opt.value ? 'active' : ''}`}
                onClick={() => setFilter(opt.value)}
              >
                {opt.label}
              </button>
            ))}
          </div>

          <div className="notif-list">
            {filtered.length === 0 ? (
              <div className="notif-empty">
                <div className="notif-empty-icon">{'\u2713'}</div>
                <p>No hay notificaciones pendientes</p>
              </div>
            ) : (
              filtered.map(n => (
                <NotificationItem key={n.id} notification={n} onDismiss={onDismiss} />
              ))
            )}
          </div>
        </div>
      );
    }

    function NotificationItem({ notification, onDismiss }) {
      const [dismissing, setDismissing] = useState(false);

      const handleDismiss = () => {
        setDismissing(true);
        setTimeout(() => onDismiss(notification.id), 350);
      };

      return (
        <div className={`notif-item ${notification.priority} ${dismissing ? 'dismissing' : ''}`}>
          <span className="priority-dot" />
          <div className="notif-content">
            <div className="notif-message">{notification.message}</div>
            <div className="notif-detail">{notification.detail}</div>
            {notification.fileId && <span className="file-tag">File #{notification.fileId}</span>}
          </div>
          <div className="notif-actions">
            {notification.actionUrl && (
              <a href={notification.actionUrl} className="action-link">{notification.actionLabel || 'Ver'}</a>
            )}
            <button className="dismiss-btn" onClick={handleDismiss} title="Marcar como resuelto">{'\u2713'}</button>
          </div>
        </div>
      );
    }

    // ================================================================
    // MAIN DASHBOARD
    // ================================================================
    function VendorDashboard() {
      const [loading, setLoading] = useState(true);
      const [notifications, setNotifications] = useState(MOCK_NOTIFICATIONS);

      // Simulate API loading
      useEffect(() => {
        const timer = setTimeout(() => setLoading(false), 1200);
        return () => clearTimeout(timer);
      }, []);

      const handleDismiss = useCallback((id) => {
        setNotifications(prev => prev.filter(n => n.id !== id));
      }, []);

      const handleRefresh = useCallback(() => {
        setLoading(true);
        setTimeout(() => {
          setNotifications(MOCK_NOTIFICATIONS);
          setLoading(false);
        }, 800);
      }, []);

      const today = new Date().toLocaleDateString('es-AR', {
        weekday: 'long', day: 'numeric', month: 'long', year: 'numeric',
      });

      return (
        <div className="page">
          <div className="page-header">
            <div>
              <h1 className="page-title">Mi Cockpit</h1>
              <p className="page-subtitle">{today}</p>
            </div>
            <button className="refresh-btn" onClick={handleRefresh} title="Actualizar datos">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M1 4v6h6M23 20v-6h-6" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/><path d="M20.49 9A9 9 0 005.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 013.51 15" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/></svg>
            </button>
          </div>

          <ExchangeRateHeader rate={MOCK_EXCHANGE_RATE} loading={loading} />
          <QuickActions />
          <KpiCards kpis={MOCK_KPIS} loading={loading} />
          <NotificationCenter notifications={notifications} onDismiss={handleDismiss} loading={loading} />
        </div>
      );
    }

    // ================================================================
    // RENDER
    // ================================================================
    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<VendorDashboard />);
  </script>
</body>
</html>
